<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Leo&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Leo&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Leo">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Leo's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Leo's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Leo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/08/Google%20Drive%20and%20Dropbox%20system%20design%20overview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Leo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leo's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Leo's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/08/Google%20Drive%20and%20Dropbox%20system%20design%20overview/" class="post-title-link" itemprop="url">Google Drive and Dropbox system design overview</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-07-08 20:12:51 / Modified: 22:20:21" itemprop="dateCreated datePublished" datetime="2024-07-08T20:12:51+12:00">2024-07-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Google-Drive-and-Dropbox-system-design-overview"><a href="#Google-Drive-and-Dropbox-system-design-overview" class="headerlink" title="Google Drive and Dropbox system design overview"></a>Google Drive and Dropbox system design overview</h1><p>In the modern information world, we have many photos, documents, videos, etc. that need to be stored. I believe almost everyone has tried to use Google Drive or Dropbox.</p>
<hr>
<h2 id="Functional-Requirements"><a href="#Functional-Requirements" class="headerlink" title="Functional Requirements"></a>Functional Requirements</h2><p>Users can upload and download files from any device.<br>Users can update files by replacing the same file name.<br>Users can share files and folders with others via email links.<br>Users can delete files and folders at any time from any device.<br>Deleted files and folders are stored in the Recycle Bin for 15 days.<br>The system should support offline editing. Users can add&#x2F;modify files and folder names while offline, and the changes will be synchronized with the remote server once the network is restored.<br>Users can perform file version management to restore previous versions of files. (The system can support multiple versions of the same file that have been changed multiple times, and the bandwidth and required space will increase significantly)<br>The system can support synchronization of files and folders across devices.<br>The system allows each user to upload files up to 10 GB for free.<br>The system will provide different market plans for different storage sizes.</p>
<hr>
<h2 id="Non-functional-requirements"><a href="#Non-functional-requirements" class="headerlink" title="Non-functional requirements"></a>Non-functional requirements</h2><p>The system must be highly reliable. No uploaded files must be lost. Users can restore their important files.<br>The system is available 24 hours a day, 7 days a week.<br>Users can upgrade their plans at any time and use the system immediately.<br>Users must be able to easily integrate their system with other applications. For example, the system supports sharing documents through other applications.<br>The system can provide delayed or concurrent utilization (which means repeatedly uploading and downloading the complete file from the cloud in an efficient manner).</p>
<hr>
<h2 id="Storage-Estimation"><a href="#Storage-Estimation" class="headerlink" title="Storage Estimation"></a>Storage Estimation</h2><p>Number of users &#x3D; 500 million<br>Number of active users &#x3D; 100 million<br>Average number of files stored by a user &#x3D; 300<br>Average size of each file &#x3D; 200 KB<br>Total number of files &#x3D; 500 million * 300 &#x3D; 150 billion<br>Total storage space required &#x3D; 150 billion * 200 KB &#x3D; 30 PB</p>
<hr>
<h2 id="System-Components"><a href="#System-Components" class="headerlink" title="System Components"></a>System Components</h2><h4 id="1-Client-installed-on-your-desktop-or-mobile-application-to-access-storage-related-applications"><a href="#1-Client-installed-on-your-desktop-or-mobile-application-to-access-storage-related-applications" class="headerlink" title="1. Client (installed on your desktop or mobile application to access storage-related applications)"></a>1. Client (installed on your desktop or mobile application to access storage-related applications)</h4><p>Monitors the workspace folder on the user’s machine and maintains consistency by synchronizing files with the remote server. Therefore, it must consist of 4 basic components, namely, monitor, chunker, indexer, and internal database .<br>The monitor will watch the local workspace folder and notify the indexer of any actions performed by the user (addition, deletion, replacement and update of files or folders) and track any changes from other devices, which are broadcasted by the sync service.<br>The chunker breaks the file into smaller chunks and reconstructs the file from these chunks so that the complete file can be transferred without any missing chunks. The chunking algorithm will detect the part of the file modified by the user and transfer only the modified part to the cloud storage, saving bandwidth and synchronization time.<br>The indexer will process events from the monitor and update the internal metadata database. Once a block is successfully downloaded or uploaded from the cloud storage, the indexer will communicate with the remote sync service, broadcast the changes to other clients, and update the remote metadata database.<br>An internal metadata database keeps track of all files, blocks, any updated versions, and their location in the file system.<br>The client application will communicate with the backend cloud storage server by requesting upload, download, and edit APIs. The client also interacts with the remote sync service to handle any file metadata updates such as file name, size, modification date, etc.</p>
<h4 id="2-Metadata-Database"><a href="#2-Metadata-Database" class="headerlink" title="2. Metadata Database"></a>2. Metadata Database</h4><p>Maintain version and metadata information about files, blocks, users, devices, workspaces, and storage locations.<br>The metadata database can be a relational database, such as MySQL, or a NoSQL database service, such as DynamoDB.<br>Synchronization services provide a consistent view of files when multiple users are working on the same file simultaneously.<br>Since NoSQL data stores do not support ACID properties, programming code combines ACID properties with NoSQL databases to synchronize the logic of the service.</p>
<h4 id="3-Synchronous-Service"><a href="#3-Synchronous-Service" class="headerlink" title="3. Synchronous Service"></a>3. Synchronous Service</h4><p>Updates files or folders created by the client.<br>Synchronizes the client’s local database with information stored in a remote metadata database.<br>Use HTTP long polling to get responses from cloud storage, or send files and updates to cloud storage after being offline for a period of time, and once offline again, send notifications to all devices or users.<br>The sync service also tries to transfer less data between the client and the cloud storage to achieve faster response times, so a differencing algorithm is used to reduce the amount of data that needs to be synchronized. Instead of transferring the entire file from the client to the server, the difference between the two versions of the file is transferred. Only the parts (blocks) that have changed are transferred. This reduces bandwidth consumption for end users and<br>Cloud data storage. The server and client will calculate the hash value to see whether to update the modified block. This process is called data deduplication.</p>
<h4 id="4-Message-Queuing-Service"><a href="#4-Message-Queuing-Service" class="headerlink" title="4. Message Queuing Service"></a>4. Message Queuing Service</h4><p>This is a message middleware that handles the number of read and write requests.<br>A scalable message queue service that supports asynchronous communication between clients and synchronous services.<br>Availability and reliability must be designed to best suit the message queue service.<br>Request Queue : This queue will be shared among all clients. When a client performs any update and request, this request will be sent to the Message Queue Service and then further processed by the Sync Service and finally update the metadata database.<br>Response Queue : Each client has an associated response queue because there is a separate response queue for each client.<br>Once the file is updated, the sync service will notify all response queues about the change, and the response queue will then notify each client of the changes made.</p>
<h4 id="4-Cloud-Block-Storage"><a href="#4-Cloud-Block-Storage" class="headerlink" title="4. Cloud&#x2F;Block Storage"></a>4. Cloud&#x2F;Block Storage</h4><p>Blocks storing files<br>Using Amazon S3 Service<br>Clients will use the API service to interact with cloud storage<br>![](images&#x2F;Cloud:Block Storage.png)</p>
<h4 id="5-File-processing-workflow"><a href="#5-File-processing-workflow" class="headerlink" title="5. File processing workflow"></a>5. File processing workflow</h4><p>Client A uploads a block to cloud storage, then updates metadata and commits the change, then gets confirmation. The server notifies clients B and C about the change. Clients B and C receive the metadata change and download the updated block.</p>
<h4 id="6-Data-deduplication"><a href="#6-Data-deduplication" class="headerlink" title="6. Data deduplication"></a>6. Data deduplication</h4><p>Eliminate duplicate copies of data. This can also reduce the transmission of identical data (the number of bytes sent) to increase the transfer rate. For each incoming block, a hash tag is tagged, and then the hash is calculated and compared to all other hashes of existing blocks.</p>
<p>a) Post-processing deduplication : New blocks are stored on the storage device, and the blocks are analyzed to see if they are duplicates. The advantage is that the client does not need to wait for the hash calculation or lookup to complete before storing the data, which improves storage performance. The disadvantage is that unnecessary duplicate data will be stored for a short period of time, and bandwidth will be transmitted and consumed.</p>
<p>b) Inline deduplication : Deduplication hash calculations can be performed in real time so that the system can identify duplicate blocks and then only store the non-existent blocks. The advantage is that it optimizes network and storage usage. The disadvantage is that it consumes user time and reduces storage performance.</p>
<h4 id="7-cache"><a href="#7-cache" class="headerlink" title="7. cache"></a>7. cache</h4><p>There are two types of caches in Google Drive &#x2F; Dropbox system design:<br>Cache for block storage<br>Use a cache with an off-the-shelf solution like Memcache that can store entire chunks and chunk servers with their corresponding IDs&#x2F;hashes<br>A least recently used (LRU) cache strategy can be adopted.</p>
<h4 id="8-Load-Balancer-LB"><a href="#8-Load-Balancer-LB" class="headerlink" title="8. Load Balancer (LB)"></a>8. Load Balancer (LB)</h4><p>Between the client and the block server<br>Between the client and the metadata server<br>Distribute incoming requests evenly among backend servers<br>Security&#x2F;Permissions and File Sharing<br>Uploaded&#x2F;downloaded files will be synchronized with the remote server<br>Multiple operations on a single file are not allowed (concurrency issue)<br>If some connectivity issues occur during the process, the client has to re-upload or download the entire file, or resume downloading or uploading chunks.</p>
<hr>
<h2 id="System-API"><a href="#System-API" class="headerlink" title="System API"></a>System API</h2><p>Upload(string uploadToken, fileInfo file, userInfo user)<br>Edit(string authToken, fileInfo file, userInfo user)<br>Delete(string authToken, fileInfo file, userInfo user)<br>Download(string authToken, fileInfo file, userInfo user)<br>GenerateToken (string userName, string password)</p>
<hr>
<h2 id="High-level-system-architecture"><a href="#High-level-system-architecture" class="headerlink" title="High-level system architecture"></a>High-level system architecture</h2><p><img src="/images/architecture.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/22/Research%E2%80%9D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Leo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leo's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Leo's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/22/Research%E2%80%9D/" class="post-title-link" itemprop="url">You and Your Research</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-06-22 13:41:37 / Modified: 14:26:47" itemprop="dateCreated datePublished" datetime="2024-06-22T13:41:37+12:00">2024-06-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="You-and-Your-Research-–-Richard-Hamming"><a href="#You-and-Your-Research-–-Richard-Hamming" class="headerlink" title="You and Your Research – Richard Hamming"></a>You and Your Research – Richard Hamming</h1><blockquote>
<p>Mathematician Richard Hamming used to ask scientists in other fields “What are the most important problems in your field?”  getting asked this question is really useful for focusing people’s attention on what matters  by asking “Why aren’t you working on them?”.</p>
</blockquote>
<blockquote>
<p>CFAR developed the technique of “Hamming Questions” as different prompts to get your brain to (actually) think about the biggest problems, bottlenecks, and unspoken desires in your life.</p>
</blockquote>
<p>On this blog I will briefly quote some of Hamming’s questions, thus leading to an explanation of the importance of research into the focus area.</p>
<h2 id="Hamming-Questions"><a href="#Hamming-Questions" class="headerlink" title="Hamming Questions"></a>Hamming Questions</h2><p>“What are the important problems of your field?”</p>
<p>“What important problems are you working on?”</p>
<p>“If what you are doing is not important, and if you don’t think it is going to lead to something important, why are you still working on it?”</p>
<p>If you do not work on an important problem, it’s unlikely you’ll do important work. It’s perfectly obvious. Great scientists have thought through, in a careful way, a number of important problems in their field, and they keep an eye on wondering how to attack them.</p>
<h2 id="Luck-favours-the-prepared-mind"><a href="#Luck-favours-the-prepared-mind" class="headerlink" title="Luck favours the prepared mind"></a>Luck favours the prepared mind</h2><blockquote>
<p>Pasteur said, “Luck favours the prepared mind.”</p>
</blockquote>
<p>Newton said, “If other people thought as hard as I do, then they would get similar results.”</p>
<p>What many people, including great scientists, have, is that they usually have independent ideas at a young age and have the courage to pursue them. Einstein saw a paradox around the age of 12 or 14 that everything was wrong, that there was something special about the speed of light. Was it luck that he eventually created special relativity? Early on, he laid some groundwork by thinking about fragments. It was a necessary but not sufficient condition. All of these items I’m about to discuss are both luck and not luck.</p>
<h2 id="The-courage"><a href="#The-courage" class="headerlink" title="The courage"></a>The courage</h2><p>One of the great characteristics of successful scientists is courage. Once you muster the courage to believe that you can solve major problems, then you can do it. If you don’t think you can do it, then you almost certainly can’t. They have courage. They move on in incredible situations; they think and keep thinking.</p>
<h2 id="Working-conditions"><a href="#Working-conditions" class="headerlink" title="Working conditions"></a>Working conditions</h2><p>Great scientists make this mistake all the time. When you become famous, it’s hard to work on small problems. They don’t keep planting little acorns that can grow into big trees. They try to achieve big things immediately. People tend to be most productive when they are working under poor conditions. One of the best periods at the Cambridge Physics Laboratory was when they had almost nothing but shacks - and they made some of the best physics research ever. So ideal working conditions are very strange. What you want isn’t always what’s best for you.</p>
<h2 id="Tremendous-drive"><a href="#Tremendous-drive" class="headerlink" title="Tremendous drive"></a>Tremendous drive</h2><p>Most great scientists have tremendous drive. Knowledge and productivity are like compound interest.” Assuming two people of similar ability, one working 10 per cent more than the other, the latter will be more than twice as productive as the former. The more you know, the more you learn; the more you learn, the more you can do; the more you can do, the more opportunities there are - much like compound interest. If you want to accomplish what you want to do, you have to ignore the fine print.</p>
<h2 id="Ambiguity"><a href="#Ambiguity" class="headerlink" title="Ambiguity"></a>Ambiguity</h2><p>Most people like to believe that something is true or not true. Great scientists are very tolerant of ambiguity. If you believe too much, you’ll never notice the flaws; if you doubt too much, you’ll never get started. It requires a wonderful balance.</p>
<h2 id="Keep-focused"><a href="#Keep-focused" class="headerlink" title="Keep focused"></a>Keep focused</h2><p>Thomas Edison said, “Genius is 99% perspiration and 1% inspiration.” Effort is not enough - it must be applied wisely. When you have a really important problem, don’t let anything else become the centre of your attention - you focus your thoughts on that problem. Keep your subconscious mind in a state of starvation so that it will work on solving your problem.</p>
<h2 id="The-way-you-do"><a href="#The-way-you-do" class="headerlink" title="The way you do"></a>The way you do</h2><p>“It’s not what you do that matters, it’s the way you do it.” Isaac Newton said, “If I can see further than anyone else, it’s because I’m standing on the shoulders of giants.” The nature of science is cumulative. By changing a problem slightly, you can often do great work, not just good work. By changing the problem, by seeing things differently, you can have a big impact on ultimate productivity.</p>
<h2 id="Sell-your-work"><a href="#Sell-your-work" class="headerlink" title="Sell your work"></a>Sell your work</h2><p>It’s not enough to do a job, you have to sell it. There are three things you must do when selling. You must learn to write clearly and well so that people will read it; you must learn to give fairly formal presentations; and you must learn to give informal presentations. Audiences want broad general speeches and want more research and background. As a result, many speeches are ineffective. The speaker presents a topic and then suddenly delves into details he has already addressed. Few in the audience can follow.</p>
<h2 id="Work-with-the-system"><a href="#Work-with-the-system" class="headerlink" title="Work with the system"></a>Work with the system</h2><p>If you learn to work with the system, you can go farther than the system can support. Many scientists feel they have to defend their egos and do things their own way, and throughout their lives this can accumulate into a great deal of unnecessary trouble. Few people have the ability to both reform the system and become first-rate scientists. Anger is wrong. You should follow and co-operate instead of fighting the system all the time.</p>
<h2 id="Self-deception"><a href="#Self-deception" class="headerlink" title="Self-deception"></a>Self-deception</h2><p>Human self-deception is very common. There are countless ways to change something, to deceive yourself, to make it look different. You need to know yourself, your weaknesses, strengths and flaws, like my ego. How do you turn weaknesses into strengths? You need to learn to use yourself. I think you need to know how to change a situation from one point of view to another, which will increase the chances of success.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/20/My-First-Post/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Leo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leo's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Leo's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/20/My-First-Post/" class="post-title-link" itemprop="url">Best Practices in Java</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-06-20 12:38:54 / Modified: 13:24:45" itemprop="dateCreated datePublished" datetime="2024-06-20T12:38:54+12:00">2024-06-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Best-Practices-in-Java"><a href="#Best-Practices-in-Java" class="headerlink" title="Best Practices in Java"></a>Best Practices in Java</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>As a developer,  aiming to provide insights gained from my learning journey. This article focuses on six key aspects of Java programming best practices in real-world project development: database audit fields, method-level data validation, return value constraints, facade pattern in business logic, business exception design, and enumeration state design. All code and ideas presented are based on my personal experience and insights, and I hope they prove helpful to readers.</p>
<h2 id="Database-Audit-Fields"><a href="#Database-Audit-Fields" class="headerlink" title="Database Audit Fields"></a>Database Audit Fields</h2><p>When designing business system databases, it’s common to create audit fields such as <code>creator</code>, <code>creation time</code>, <code>last updater</code>, and <code>last update time</code>. Instead of repeatedly fetching and passing these values through layers, it’s better to automate this process. Here’s how to design a universal audit log insertion:</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><ul>
<li>Framework: Spring Boot + MyBatis</li>
<li>Database: MySQL</li>
<li>Utility: Lombok</li>
</ul>
<h4 id="Define-Annotations"><a href="#Define-Annotations" class="headerlink" title="Define Annotations"></a>Define Annotations</h4><p>Create annotations that automatically assign values to annotated entity fields:</p>
<pre><code class="java">@Retention(RetentionPolicy.RUNTIME)
@Target(value = &#123;FIELD, METHOD, ANNOTATION_TYPE&#125;)
public @interface CreateAt &#123;
    // ...
&#125;

// Similar annotations for CreateBy, UpdateAt, and UpdateBy
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/20/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Leo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leo's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Leo's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/20/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-06-20 12:21:57" itemprop="dateCreated datePublished" datetime="2024-06-20T12:21:57+12:00">2024-06-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Leo</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
